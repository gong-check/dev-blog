<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="google-site-verification" content="2boy4mTZFpjeW291aYEx-aeG_otrQP6s7X8GIm89jgw"/><meta data-react-helmet="true" name="twitter:description" content="어떻게 하면 컴포넌트의 재사용성을 높일까? 그리고 올바른 추상화란?"/><meta data-react-helmet="true" name="twitter:title" content="합성 컴포넌트로 재사용성 높이기"/><meta data-react-helmet="true" name="twitter:creator" content=""/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:description" content="어떻게 하면 컴포넌트의 재사용성을 높일까? 그리고 올바른 추상화란?"/><meta data-react-helmet="true" property="og:title" content="합성 컴포넌트로 재사용성 높이기"/><meta data-react-helmet="true" name="description" content="어떻게 하면 컴포넌트의 재사용성을 높일까? 그리고 올바른 추상화란?"/><meta name="generator" content="Gatsby 4.18.0"/><style data-href="/dev-blog/styles.580e4564c06d705f6f4f.css" data-identity="gatsby-global-css">@font-face{font-family:SUIT-Medium;font-style:normal;font-weight:400;src:url(https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_suit@1.0/SUIT-Medium.woff2) format("woff2")}
/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{-webkit-text-size-adjust:100%;line-height:1.15}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0}pre{font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-size:1em}small{font-size:90%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden]{display:none}:root{--maxWidth-none:"none";--maxWidth-xs:20rem;--maxWidth-sm:24rem;--maxWidth-md:28rem;--maxWidth-lg:32rem;--maxWidth-xl:36rem;--maxWidth-2xl:42rem;--maxWidth-3xl:48rem;--maxWidth-4xl:56rem;--maxWidth-full:"100%";--maxWidth-wrapper:var(--maxWidth-2xl);--spacing-px:"1px";--spacing-0:0;--spacing-1:0.25rem;--spacing-2:0.5rem;--spacing-3:0.75rem;--spacing-4:1rem;--spacing-5:1.25rem;--spacing-6:1.5rem;--spacing-8:2rem;--spacing-10:2.5rem;--spacing-12:3rem;--spacing-16:4rem;--spacing-20:5rem;--spacing-24:6rem;--spacing-32:8rem;--fontFamily-sans:Montserrat,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--fontFamily-serif:"Merriweather","Georgia",Cambria,"Times New Roman",Times,serif;--font-body:var(--fontFamily-serif);--font-heading:var(--fontFamily-sans);--fontWeight-normal:400;--fontWeight-medium:500;--fontWeight-semibold:600;--fontWeight-bold:700;--fontWeight-extrabold:800;--fontWeight-black:900;--fontSize-root:16px;--lineHeight-none:1;--lineHeight-tight:1.1;--lineHeight-normal:1.5;--lineHeight-relaxed:1.625;--fontSize-0:0.833rem;--fontSize-1:1rem;--fontSize-2:1.2rem;--fontSize-3:1.44rem;--fontSize-4:1.728rem;--fontSize-5:2.074rem;--fontSize-6:2.488rem;--fontSize-7:2.986rem;--color-primary:#005b99;--color-text:#4e5968;--color-text-light:#b0b8c1;--color-heading:#333d4b;--color-heading-black:#333d4b;--color-accent:#d1dce5;--color-first:#68c1f8}*,:after,:before{box-sizing:border-box}html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:var(--fontSize-root);line-height:var(--lineHeight-normal)}body{color:var(--color-text);font-family:SUIT-Medium;font-size:var(--fontSize-1);overflow-x:hidden}footer{padding:var(--spacing-6) var(--spacing-0)}hr{background:var(--color-accent);border:0;height:1px}h1,h2,h3{margin-bottom:var(--spacing-6);margin-top:var(--spacing-8)}h1,h2,h3,h4,h5,h6{font-family:SUIT-Medium;letter-spacing:-.025em;line-height:var(--lineHeight-tight)}h4,h5,h6{margin-bottom:var(--spacing-4);margin-top:var(--spacing-6)}h2,h3,h4,h5,h6{color:var(--color-heading);font-weight:var(--fontWeight-bold)}h1{color:var(--color-heading-black);font-weight:var(--fontWeight-black)}h1,h2 a span{font-size:var(--fontSize-6)}h2 a span{color:#333d4b;font-weight:800}h2{font-size:var(--fontSize-5)}h3{font-size:var(--fontSize-4)}h4{font-size:var(--fontSize-3)}h5{font-size:var(--fontSize-2)}h6{font-size:var(--fontSize-1)}h1>a,h2>a,h3>a,h4>a,h5>a,h6>a{color:inherit;text-decoration:none}p{--baseline-multiplier:0.179;--x-height-multiplier:0.35;line-height:var(--lineHeight-relaxed);margin:var(--spacing-0) var(--spacing-0) var(--spacing-8) var(--spacing-0);padding:var(--spacing-0)}ol,p,ul{word-wrap:break-word}ol,ul{list-style-image:none;list-style-position:outside;margin-bottom:var(--spacing-8);margin-top:24px;padding:0 var(--spacing-5)}ol li,ul li{margin-bottom:8px}li>p{margin-bottom:calc(var(--spacing-8)/2)}li :last-child{margin-bottom:var(--spacing-0)}li>ul{margin-top:calc(var(--spacing-8)/2)}blockquote{word-wrap:break-word;background-color:#68c1f820;border-left:var(--spacing-1) solid #68c1f8;color:var(--color-text);font-size:var(--fontSize-2);font-style:italic;margin-bottom:var(--spacing-8);margin-left:calc(var(--spacing-2)*-1);margin-right:calc(var(--spacing-2)*-1);padding:var(--spacing-2) var(--spacing-0) var(--spacing-2) var(--spacing-2)}.language-text{word-wrap:break-word!important}blockquote>:last-child{margin-bottom:var(--spacing-0)}blockquote>ol,blockquote>ul{list-style-position:inside}table{border-collapse:collapse;border-spacing:.25rem;margin-bottom:var(--spacing-8);width:100%}table thead tr th{border-bottom:1px solid var(--color-accent)}a{color:var(--color-primary)}a:focus,a:hover{text-decoration:none}.global-wrapper[data-is-root-path=true] .bio{margin-bottom:var(--spacing-24)}.content-wrapper{margin:0 auto}.content-wrapper,.list-wrapper{max-width:var(--maxWidth-wrapper)}.list-wrapper{margin:96px 0 48px;width:100%}.list-wrapper li{margin-bottom:var(--spacing-24)}.list-wrapper ol div{align-items:center;display:flex;justify-content:center}.list-wrapper button{background-color:#f1f2f6;border:1px solid #ced6e0;border-radius:16px;cursor:pointer;margin-right:12px;padding:4px 16px}.list-wrapper button:hover{background-color:#dfe6e9}.list-wrapper .tag-button-clicked{background-color:#ced6e0;color:#fff;font-weight:600}.post-wrapper{margin-top:136px;max-width:var(--maxWidth-wrapper);padding:0 16px}@media (max-width:42rem){.post-wrapper{max-width:100vw}}.main-heading,.main-heading-top{height:68px;left:0;line-height:-60px;margin:0;padding:16px 48px;position:fixed;top:0;width:100vw;z-index:2}.main-heading{background-color:#fff;border-bottom:2px solid #e6e8ea}.post-list-item{margin-top:var(--spacing-16)}.post-list-item p{margin-bottom:var(--spacing-4)}.post-list-item h2{font-size:36px;font-weight:600;margin-bottom:var(--spacing-2);margin-top:var(--spacing-0)}.post-list-item header{margin-bottom:var(--spacing-4)}.post-list-item h2 span:hover{color:#005b99}.post-list-item footer{align-items:center;display:flex;margin:0;padding:0}.post-list-item footer img{border-radius:100%;height:32px;margin:0 8px;width:32px}.post-list-item footer strong{margin:0 8px 0 0}.header-link-home{font-family:SUIT-Medium;font-size:var(--fontSize-2);font-weight:var(--fontWeight-bold);text-decoration:none}.bio{display:flex;margin-bottom:var(--spacing-16)}.bio div div{color:var(--color-text-light)}.bio strong{font-size:var(--fontSize-2);margin-top:4px}.bio-avatar{border-radius:100%;margin-right:16px}.blog-post header h1{margin:var(--spacing-0) var(--spacing-0) var(--spacing-4) var(--spacing-0)}.blog-post header p{color:var(--color-text-light);font-family:SUIT-Medium;font-size:var(--fontSize-1)}.blog-post section{margin-top:24px}.gatsby-highlight{margin-bottom:var(--spacing-8)}@media (max-width:42rem){blockquote{margin-left:var(--spacing-0);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-4)}ol,ul{list-style-position:inside}}#gatsby-focus-wrapper,main{align-items:center;display:flex;justify-content:center}.post-info{display:flex;height:32px;justify-content:space-between}.no-posts{font-size:var(--fontSize-4);margin:240px 0}.footer-division{box-shadow:0 2px 1px 0 #b2bec3;height:2px;margin-top:var(--spacing-16)}.swiper{bottom:120px;height:100%;top:68px;width:100vw}.swiper-slide{font-size:18px;text-align:center}.swiper-slide img{height:480px;max-height:480px;width:100%}@media (max-width:1000px){.swiper-slide img{height:360px;max-height:360px;width:100%}}@media (max-width:600px){.swiper-slide img{height:240px;max-height:240px;width:100%}.main-heading,.main-heading-top{display:flex;justify-content:center}}.scroll-up-button{align-items:center;border-radius:50%;bottom:40px;box-shadow:0 5px 15px rgba(0,0,0,.25);color:var(--color-first);cursor:pointer;display:flex;font-size:20px;height:50px;justify-content:center;opacity:1;position:fixed;right:50px;transition:all .15s ease-in-out 0s;visibility:visible;width:50px}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}@font-face{font-family:swiper-icons;font-style:normal;font-weight:400;src:url("data:application/font-woff;charset=utf-8;base64, d09GRgABAAAAAAZgABAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAGRAAAABoAAAAci6qHkUdERUYAAAWgAAAAIwAAACQAYABXR1BPUwAABhQAAAAuAAAANuAY7+xHU1VCAAAFxAAAAFAAAABm2fPczU9TLzIAAAHcAAAASgAAAGBP9V5RY21hcAAAAkQAAACIAAABYt6F0cBjdnQgAAACzAAAAAQAAAAEABEBRGdhc3AAAAWYAAAACAAAAAj//wADZ2x5ZgAAAywAAADMAAAD2MHtryVoZWFkAAABbAAAADAAAAA2E2+eoWhoZWEAAAGcAAAAHwAAACQC9gDzaG10eAAAAigAAAAZAAAArgJkABFsb2NhAAAC0AAAAFoAAABaFQAUGG1heHAAAAG8AAAAHwAAACAAcABAbmFtZQAAA/gAAAE5AAACXvFdBwlwb3N0AAAFNAAAAGIAAACE5s74hXjaY2BkYGAAYpf5Hu/j+W2+MnAzMYDAzaX6QjD6/4//Bxj5GA8AuRwMYGkAPywL13jaY2BkYGA88P8Agx4j+/8fQDYfA1AEBWgDAIB2BOoAeNpjYGRgYNBh4GdgYgABEMnIABJzYNADCQAACWgAsQB42mNgYfzCOIGBlYGB0YcxjYGBwR1Kf2WQZGhhYGBiYGVmgAFGBiQQkOaawtDAoMBQxXjg/wEGPcYDDA4wNUA2CCgwsAAAO4EL6gAAeNpj2M0gyAACqxgGNWBkZ2D4/wMA+xkDdgAAAHjaY2BgYGaAYBkGRgYQiAHyGMF8FgYHIM3DwMHABGQrMOgyWDLEM1T9/w8UBfEMgLzE////P/5//f/V/xv+r4eaAAeMbAxwIUYmIMHEgKYAYjUcsDAwsLKxc3BycfPw8jEQA/gZBASFhEVExcQlJKWkZWTl5BUUlZRVVNXUNTQZBgMAAMR+E+gAEQFEAAAAKgAqACoANAA+AEgAUgBcAGYAcAB6AIQAjgCYAKIArAC2AMAAygDUAN4A6ADyAPwBBgEQARoBJAEuATgBQgFMAVYBYAFqAXQBfgGIAZIBnAGmAbIBzgHsAAB42u2NMQ6CUAyGW568x9AneYYgm4MJbhKFaExIOAVX8ApewSt4Bic4AfeAid3VOBixDxfPYEza5O+Xfi04YADggiUIULCuEJK8VhO4bSvpdnktHI5QCYtdi2sl8ZnXaHlqUrNKzdKcT8cjlq+rwZSvIVczNiezsfnP/uznmfPFBNODM2K7MTQ45YEAZqGP81AmGGcF3iPqOop0r1SPTaTbVkfUe4HXj97wYE+yNwWYxwWu4v1ugWHgo3S1XdZEVqWM7ET0cfnLGxWfkgR42o2PvWrDMBSFj/IHLaF0zKjRgdiVMwScNRAoWUoH78Y2icB/yIY09An6AH2Bdu/UB+yxopYshQiEvnvu0dURgDt8QeC8PDw7Fpji3fEA4z/PEJ6YOB5hKh4dj3EvXhxPqH/SKUY3rJ7srZ4FZnh1PMAtPhwP6fl2PMJMPDgeQ4rY8YT6Gzao0eAEA409DuggmTnFnOcSCiEiLMgxCiTI6Cq5DZUd3Qmp10vO0LaLTd2cjN4fOumlc7lUYbSQcZFkutRG7g6JKZKy0RmdLY680CDnEJ+UMkpFFe1RN7nxdVpXrC4aTtnaurOnYercZg2YVmLN/d/gczfEimrE/fs/bOuq29Zmn8tloORaXgZgGa78yO9/cnXm2BpaGvq25Dv9S4E9+5SIc9PqupJKhYFSSl47+Qcr1mYNAAAAeNptw0cKwkAAAMDZJA8Q7OUJvkLsPfZ6zFVERPy8qHh2YER+3i/BP83vIBLLySsoKimrqKqpa2hp6+jq6RsYGhmbmJqZSy0sraxtbO3sHRydnEMU4uR6yx7JJXveP7WrDycAAAAAAAH//wACeNpjYGRgYOABYhkgZgJCZgZNBkYGLQZtIJsFLMYAAAw3ALgAeNolizEKgDAQBCchRbC2sFER0YD6qVQiBCv/H9ezGI6Z5XBAw8CBK/m5iQQVauVbXLnOrMZv2oLdKFa8Pjuru2hJzGabmOSLzNMzvutpB3N42mNgZGBg4GKQYzBhYMxJLMlj4GBgAYow/P/PAJJhLM6sSoWKfWCAAwDAjgbRAAB42mNgYGBkAIIbCZo5IPrmUn0hGA0AO8EFTQAA")}:root{--swiper-theme-color:#007aff}.swiper{list-style:none;margin-left:auto;margin-right:auto;overflow:hidden;padding:0;position:relative;z-index:1}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{box-sizing:content-box;display:flex;height:100%;position:relative;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;width:100%;z-index:1}.swiper-android .swiper-slide,.swiper-wrapper{-webkit-transform:translateZ(0);transform:translateZ(0)}.swiper-pointer-events{touch-action:pan-y}.swiper-pointer-events.swiper-vertical{touch-action:pan-x}.swiper-slide{flex-shrink:0;height:100%;position:relative;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;width:100%}.swiper-slide-invisible-blank{visibility:hidden}.swiper-autoheight,.swiper-autoheight .swiper-slide{height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:height,-webkit-transform;transition-property:transform,height;transition-property:transform,height,-webkit-transform}.swiper-backface-hidden .swiper-slide{-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform:translateZ(0);transform:translateZ(0)}.swiper-3d,.swiper-3d.swiper-css-mode .swiper-wrapper{-webkit-perspective:1200px;perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d .swiper-slide,.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top,.swiper-3d .swiper-wrapper{-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%;z-index:10}.swiper-3d .swiper-slide-shadow{background:rgba(0,0,0,.15)}.swiper-3d .swiper-slide-shadow-left{background-image:linear-gradient(270deg,rgba(0,0,0,.5),transparent)}.swiper-3d .swiper-slide-shadow-right{background-image:linear-gradient(90deg,rgba(0,0,0,.5),transparent)}.swiper-3d .swiper-slide-shadow-top{background-image:linear-gradient(0deg,rgba(0,0,0,.5),transparent)}.swiper-3d .swiper-slide-shadow-bottom{background-image:linear-gradient(180deg,rgba(0,0,0,.5),transparent)}.swiper-css-mode>.swiper-wrapper{-ms-overflow-style:none;overflow:auto;scrollbar-width:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:start start}.swiper-horizontal.swiper-css-mode>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-vertical.swiper-css-mode>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-centered>.swiper-wrapper:before{content:"";flex-shrink:0;order:9999}.swiper-centered.swiper-horizontal>.swiper-wrapper>.swiper-slide:first-child{-webkit-margin-start:var(--swiper-centered-offset-before);margin-inline-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-horizontal>.swiper-wrapper:before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-centered.swiper-vertical>.swiper-wrapper>.swiper-slide:first-child{-webkit-margin-before:var(--swiper-centered-offset-before);margin-block-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-vertical>.swiper-wrapper:before{height:var(--swiper-centered-offset-after);min-width:1px;width:100%}.swiper-centered>.swiper-wrapper>.swiper-slide{scroll-snap-align:center center}.swiper-pagination{position:absolute;text-align:center;-webkit-transform:translateZ(0);transform:translateZ(0);transition:opacity .3s;z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:10px;left:0;width:100%}.swiper-pagination-bullets-dynamic{font-size:0;overflow:hidden}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{position:relative;-webkit-transform:scale(.33);transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active,.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{-webkit-transform:scale(1);transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{-webkit-transform:scale(.66);transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{-webkit-transform:scale(.33);transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{-webkit-transform:scale(.66);transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{-webkit-transform:scale(.33);transform:scale(.33)}.swiper-pagination-bullet{background:var(--swiper-pagination-bullet-inactive-color,#000);border-radius:50%;display:inline-block;height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));opacity:var(--swiper-pagination-bullet-inactive-opacity,.2);width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px))}button.swiper-pagination-bullet{-webkit-appearance:none;appearance:none;border:none;box-shadow:none;margin:0;padding:0}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{background:var(--swiper-pagination-color,var(--swiper-theme-color));opacity:var(--swiper-pagination-bullet-opacity,1)}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:10px;top:50%;-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{display:block;margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:transform .2s,top .2s}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:transform .2s,left .2s}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:transform .2s,right .2s}.swiper-pagination-progressbar{background:rgba(0,0,0,.25);position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));height:100%;left:0;position:absolute;top:0;-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:left top;transform-origin:left top;width:100%}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{-webkit-transform-origin:right top;transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{height:4px;left:0;top:0;width:100%}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{height:100%;left:0;top:0;width:4px}.swiper-pagination-lock{display:none}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="sitemap" type="application/xml" href="/dev-blog/sitemap/sitemap-index.xml"/><link rel="icon" href="/dev-blog/favicon-32x32.png?v=5c90c0b2b79dc86b3e5dec3614c0f121" type="image/png"/><link rel="manifest" href="/dev-blog/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/dev-blog/icons/icon-48x48.png?v=5c90c0b2b79dc86b3e5dec3614c0f121"/><link rel="apple-touch-icon" sizes="72x72" href="/dev-blog/icons/icon-72x72.png?v=5c90c0b2b79dc86b3e5dec3614c0f121"/><link rel="apple-touch-icon" sizes="96x96" href="/dev-blog/icons/icon-96x96.png?v=5c90c0b2b79dc86b3e5dec3614c0f121"/><link rel="apple-touch-icon" sizes="144x144" href="/dev-blog/icons/icon-144x144.png?v=5c90c0b2b79dc86b3e5dec3614c0f121"/><link rel="apple-touch-icon" sizes="192x192" href="/dev-blog/icons/icon-192x192.png?v=5c90c0b2b79dc86b3e5dec3614c0f121"/><link rel="apple-touch-icon" sizes="256x256" href="/dev-blog/icons/icon-256x256.png?v=5c90c0b2b79dc86b3e5dec3614c0f121"/><link rel="apple-touch-icon" sizes="384x384" href="/dev-blog/icons/icon-384x384.png?v=5c90c0b2b79dc86b3e5dec3614c0f121"/><link rel="apple-touch-icon" sizes="512x512" href="/dev-blog/icons/icon-512x512.png?v=5c90c0b2b79dc86b3e5dec3614c0f121"/><title data-react-helmet="true">합성 컴포넌트로 재사용성 높이기 | 공책 팀 개발 블로그</title></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="global-wrapper" data-is-root-path="false"><header><h1 class="main-heading main-heading-scroll"><a href="/dev-blog/"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained logo-title"><div style="max-width:240px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;36&#x27; width=&#x27;240&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/23593/logo-title.webp 60w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/ddc25/logo-title.webp 120w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/c26a2/logo-title.webp 240w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/1cf1b/logo-title.webp 480w" sizes="(min-width: 240px) 240px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 240px) 240px, 100vw" decoding="async" loading="lazy" data-src="/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/0f928/logo-title.png" data-srcset="/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/16ace/logo-title.png 60w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/8ee1c/logo-title.png 120w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/0f928/logo-title.png 240w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/8791d/logo-title.png 480w" alt="Logo picture"/></picture><noscript><picture><source type="image/webp" srcSet="/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/23593/logo-title.webp 60w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/ddc25/logo-title.webp 120w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/c26a2/logo-title.webp 240w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/1cf1b/logo-title.webp 480w" sizes="(min-width: 240px) 240px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 240px) 240px, 100vw" decoding="async" loading="lazy" src="/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/0f928/logo-title.png" srcSet="/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/16ace/logo-title.png 60w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/8ee1c/logo-title.png 120w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/0f928/logo-title.png 240w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/8791d/logo-title.png 480w" alt="Logo picture"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></a></h1></header><main class="content-wrapper"><div class="post-wrapper"><article class="blog-post" itemscope="" itemType="http://schema.org/Article"><header><h1 itemProp="headline">합성 컴포넌트로 재사용성 높이기</h1><div>2022.08.30</div></header><section itemProp="articleBody"><p>안녕하세요. “함께 사용하는 우리의 공간, 우리가 체크하자!”</br>
GongCheck 팀에서 프론트엔드 개발을 맡고 있는 코카콜라입니다.</br>
저희 팀은 우아한테크코스 4기 과정에서 공간관리 체크리스트 애플리케이션을 개발하고 있습니다.</p>
<p>프론트엔드 개발을 하다 보면 <strong>“어떻게 하면 컴포넌트의 재사용성을 높일 수 있을까?”</strong> 에 대해 많이 고민하게 될 텐데요. 저희 프론트엔드 팀에서는 다양한 페이지에서 사용되는 <strong>공통의 도메인을 가지는 컴포넌트에</strong> 대한 재사용성을 높이기 위해 <strong>Compound Component Pattern</strong>을 적용했습니다. 또한 이런 과정에서 <strong>올바른 추상화</strong>에 대해 다시 한번 생각하게 되었는데요. 이번 경험을 공유해 보고자 합니다!</p>
<hr>
<h1>1. 반복되는 컴포넌트를 마주한 순간</h1>
<p>GongCheck 애플리케이션은 크게 두명의 사용자가 있습니다.</p>
<ul>
<li>공간에 대한 체크리스트를 체크하는 <code class="language-text">일반 사용자</code></li>
<li>해당 공간을 생성하고 관리하는 <code class="language-text">관리자</code></li>
</ul>
<p>아래 이미지들은 <code class="language-text">관리자 페이지들</code>입니다.</p>
<div align="center">
	<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; ">
      <a class="gatsby-resp-image-link" href="/dev-blog/static/b426593fb299c57ac6733e3f6e5ccdd7/f98ee/spaceInfoCreateBox.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 86.70886075949367%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAABtklEQVQ4y5WUWW/iMBRG+/9/FU8z88YTSeiMJlBBaUNIiLM53s7IZmkoiwZLnyxH957czX4BR1pBUoB1DqUdcoBB+d2F/ZG8zcEO6mbgpRrg56dg8v7BpgVnHP0FkLPTo/MZqC38ytb8yP7QKDB6HNnBWGkwlrCfnLX5Ol8AHbBpYNNVDLZHn50OhsZAWe5ZLN/YVwK/+q7j431JLcTFTwKwbRp8HU/rew09MMs+WS6XdF0XbIxWNHUZwFcp76uaqm4oqxqpzBE0AloPzFiv1wyDDNC+95kYnLuRshwGuq5HaR26PAb20oXYy6IgjiKSJGE+nxNFEWn6F2PsjS4LQVGWaGPuAvM8ZzabkSQHmAcvFultoGjakHIvFYO2SGWvgLs8D5DpdMpkMuH19Tdpegfoi+zr0rYt1ppjU9zNCH26XnEc34/Qua8O+26Pu3yuYVkQx1GoY3TUXWDAOBfE1dXzA+zCvBVFgVIqyHdZSvkYeCtCv/uxWa1WoWZ1LRBCYK0N1ta6Z4GHwfaQbLsl3+3YbnP6XgYfrZ+McHyX/d09afzKPB3h99fl9G2spyP8H3nbptX8A6xnKXsbi9UCAAAAAElFTkSuQmCC'); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="spaceInfoCreateBox" title="spaceInfoCreateBox" src="/dev-blog/static/b426593fb299c57ac6733e3f6e5ccdd7/f058b/spaceInfoCreateBox.png" srcset="/dev-blog/static/b426593fb299c57ac6733e3f6e5ccdd7/c26ae/spaceInfoCreateBox.png 158w,
/dev-blog/static/b426593fb299c57ac6733e3f6e5ccdd7/6bdcf/spaceInfoCreateBox.png 315w,
/dev-blog/static/b426593fb299c57ac6733e3f6e5ccdd7/f058b/spaceInfoCreateBox.png 630w,
/dev-blog/static/b426593fb299c57ac6733e3f6e5ccdd7/40601/spaceInfoCreateBox.png 945w,
/dev-blog/static/b426593fb299c57ac6733e3f6e5ccdd7/78612/spaceInfoCreateBox.png 1260w,
/dev-blog/static/b426593fb299c57ac6733e3f6e5ccdd7/f98ee/spaceInfoCreateBox.png 1808w" sizes="(max-width: 630px) 100vw, 630px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
  </a>
    </span>
    <p>공간 정보 생성 페이지</p>
</div>
<br>
<div align="center">
	<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; ">
      <a class="gatsby-resp-image-link" href="/dev-blog/static/0c396cd07348509d2b5f8f72101fb479/565cc/spaceInfoDisplayBox.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 87.34177215189874%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAAC3klEQVQ4y32T3WsdRRjGz//ilVeK4I3+DV75JxQFr6x45ZWColiokAgVhEahV7XiV6jVYmKgtrEViggnNuWYk5Ck5+yec/Zjdnd2dr5+MnuyyUlSOvAw+87OPPO87/NODzw7OfRnYL1HG4/SoA00GurGYzTM6ojf429Zj7/nj9lNRFURxTPSaQJrq3DzOlUq6IkGNqOcjdGIw9IHfmRtEIVESo2xHmNgT1T00wF7xYBB8og8F0ynCZmQjB8PGW89Js0lPetgMx5xLx4gGk8Ys9mM7e1tRqNRG0ttWd0xPIzBazjce8Jwd5fhzn/EWcnPEfw0gd2kpue9J5YQ14LG1XgPaZoSxxHnhrdo46iVQoV6AEkDaSIg2kfKml5ZluDdfL+fQ0rJlSsrXF25wa1fN9hYW+efv/7EWodzkGY5qZif62fwsL8Pd29TSkUvEwVZUZLmgroxOA9VWfHGm+9x8d3LfPrZNZaXvmb1u1stobHuRHC4HX8cy1rR001DXUusNa28oEBrw53Nf7n7YMBvd7b5ZeMRf29FOBcMci3RnKzLak7cEkZpwZNpilCWQntsqGFW8sGlH/jq+n0uvv8NHy3dZuPeDsbY1vWOZBHHCvcSye6s4kAYDgpHbaEsKl569S2ee/ECz798gRdeeZvXXn8Hpeo2g7NkpwjDh6oltazwzra3h5Q//+IGH1+6yuWla3z4yQrLy1+itcZa/2zCdmGhyO6obSaT823j/LyG3d7F1E8p7Badm28ej8esra/T728dtcocfoFw0d2nEnabwlu2lrZWtnXc0SyiORNrhzNtYamqMwo7BVEUs79/0EKp5ijdk8bv0LXkVuL4cWg5TE8pPCEsioI8zxBCYIw5TvlpCK9lKi3D3JIU9emUwxxcDIQBSinC08yyrJ2rqiLPc5IkaeMOSpZYVVEW5XnCzuVwOMRN0zCZTLDW4qxD6pJUTRBNSqambRyMC/+DKf8D7A0Hc70luVEAAAAASUVORK5CYII='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="spaceInfoDisplayBox" title="spaceInfoDisplayBox" src="/dev-blog/static/0c396cd07348509d2b5f8f72101fb479/f058b/spaceInfoDisplayBox.png" srcset="/dev-blog/static/0c396cd07348509d2b5f8f72101fb479/c26ae/spaceInfoDisplayBox.png 158w,
/dev-blog/static/0c396cd07348509d2b5f8f72101fb479/6bdcf/spaceInfoDisplayBox.png 315w,
/dev-blog/static/0c396cd07348509d2b5f8f72101fb479/f058b/spaceInfoDisplayBox.png 630w,
/dev-blog/static/0c396cd07348509d2b5f8f72101fb479/40601/spaceInfoDisplayBox.png 945w,
/dev-blog/static/0c396cd07348509d2b5f8f72101fb479/78612/spaceInfoDisplayBox.png 1260w,
/dev-blog/static/0c396cd07348509d2b5f8f72101fb479/565cc/spaceInfoDisplayBox.png 1806w" sizes="(max-width: 630px) 100vw, 630px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
  </a>
    </span>
    <p>공간 정보 보기 페이지</p>
</div>
<br>
<div align="center">
	<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; ">
      <a class="gatsby-resp-image-link" href="/dev-blog/static/a130084471917132c2a2cf16b814959a/24def/spaceInfoUpdateBox.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 87.34177215189874%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAACO0lEQVQ4y5WUz2sTQRTH+z95EQRB0JOo9OJFPFQ86VGk4Emx+Ad4UVsUKSpRSvEkSiHWg7ZKETVY2oVSkk2pSZNskt3ZHzOz+5Gd3TQ/LXbgsSy8+bzve9+ZmYKEPQ8sB5IkQaqEMIJIpt/EfI+KNCfLA09IpjwJ6zXBp/06FTeGOCGIkgEgh5sG/4OoX3AIqGPYaOzzrWHhhBDrQWXZZqlMHZTGgJQEYtAK080QEMB2YddtE2ofpRiqnBZ0nDblso3jdNJ0GkJTtBWVToxWvY5yoO/7Wbl8jc5Qa2i1WlSrVXxfmBxXQamVUBMaJXv5OdBpd+m4gnbXJZQqB/WBaasprFT6bRR2uy6B1wWZCkkIwkzdIVBGEUEQIKUcc1kE2ihaWSkyc+02cw8e82ThJYvzT1l9/4E4nuByo+Pxp9nGizRBPvQoB/pBNoq1te/cvb/A/LN3vHpTZGl5lUKhiBChMWwIuNsU7DYE1a6m6iV0ggSZuiuzdtJl7dT4vFHm6489ni9tsP6zxmLhC07bNc6PuZwO2/M8Yq1Rqn9shJ+1/OL1R85Nz3H1xiPOTM8xe2+JW7MP8TwxrjCdmwmzdWSGOXD57SonTl3n7PmbXLp8h5OnZ7hw8Qpa6/EZHgKTcWDP5YODJr9KFjs7FbatMpubFnalMtkUgzkCmJ5D265gWdtEUcjg6gM5HrBer7O1tY1tV1E6RiltQuv4eMDeXU6d7N3lwYdi9NH4L4WTXpvROAbw34omKRS+4i9f9g5dOULZ4gAAAABJRU5ErkJggg=='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="spaceInfoUpdateBox" title="spaceInfoUpdateBox" src="/dev-blog/static/a130084471917132c2a2cf16b814959a/f058b/spaceInfoUpdateBox.png" srcset="/dev-blog/static/a130084471917132c2a2cf16b814959a/c26ae/spaceInfoUpdateBox.png 158w,
/dev-blog/static/a130084471917132c2a2cf16b814959a/6bdcf/spaceInfoUpdateBox.png 315w,
/dev-blog/static/a130084471917132c2a2cf16b814959a/f058b/spaceInfoUpdateBox.png 630w,
/dev-blog/static/a130084471917132c2a2cf16b814959a/40601/spaceInfoUpdateBox.png 945w,
/dev-blog/static/a130084471917132c2a2cf16b814959a/78612/spaceInfoUpdateBox.png 1260w,
/dev-blog/static/a130084471917132c2a2cf16b814959a/24def/spaceInfoUpdateBox.png 1812w" sizes="(max-width: 630px) 100vw, 630px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
  </a>
    </span>
    <p>공간 정보 수정 페이지</p>
</div>
<br>
<p>각 페이지에서 반복되는 컴포넌트가 있는데 혹시 눈치를 채셨나요?</p>
<div align="center">
	<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; ">
      <a class="gatsby-resp-image-link" href="/dev-blog/static/a232921cf2824318105a32af136d3222/85053/spaceInfo.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 62.65822784810127%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACxklEQVQ4y1WT32/bVBTH/X8hhBDaJEDiTxmgSfAA4gFpD/x4bEfhYahSOzGE1k1atq6lqgBtLWmyNs6vJm6bhoYkS+zYjuPEvrbvB93rLRpHOrrH55z7ved8j49hVpu0rUtZMRsobZ6ecXB4xNl5l1K5wtj2EQksomypUfymLdUpX/mlsbF5Tx6f1Hj8ZJcHDwv88ecBG5v32Nnd19/DlxMNGEUZWSJfAUjiBGIB8ygjEZI0kVL5DSEyRmNHphlaZkGgT4kCSbBtFyFSvHnKhZMwV2Aiw3ZcnIlHlkr6XiK7k4RYSGl4nkevd4WUEqRkFriE4RwhJLY9Zjr19QMCuPAywijTDzjOmDiOdMxN4MrPiOMMw/d9/ul2cRyH8XhMEEwRSaYrtNoW97ceUzyqUDs5JvRsVCdJkvH06R6PCnuUyxVa5jFxGGhqjNlsRqPRoF6vU61W6XQuiBRBQKl0wo1PbrG69is/rm3Sap5rvwJcXV3ni69WubO+xU9rd7HalzpmBEFAu92mXC5jmqZuP45TXWGnO2Jnv8mDbZPCXgt7EpFlEMUpz4sW2/tNfitUuF8wMaudHFBVqKqr1fIKLy87ehhKnuwUefv6Td55/zPe/eBztneeab968MbNFd669invffQl1z78mN3f/8oB1QB6vR6j0YjBYKC5VBeUtK0u33z/Mys//MLXt9Y4PDxatrz1cI+V23dZ33jEt9/dxrLOckDXdRkM+sRxTCLE8oKa8nDYZzIZ86aoScYiZTj8lzAM/hdbRClGFAlc19c6X8T5JaEAwXFcrq76mgLFqfqzcsCM0cimP3ipOVX+nNsMo1o71StXrbU4OCzxd/EFs1AwX6Tar1az0bQoHh1TfmESxeBPF5RKFU4qdeoNi2fPi5y2zvXmGCro+XOd5Hqhtl/vqbKVToNomZOvXrrMzWMhwSzSsf8AoHG1A3B1K8YAAAAASUVORK5CYII='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="spaceInfo" title="spaceInfo" src="/dev-blog/static/a232921cf2824318105a32af136d3222/f058b/spaceInfo.png" srcset="/dev-blog/static/a232921cf2824318105a32af136d3222/c26ae/spaceInfo.png 158w,
/dev-blog/static/a232921cf2824318105a32af136d3222/6bdcf/spaceInfo.png 315w,
/dev-blog/static/a232921cf2824318105a32af136d3222/f058b/spaceInfo.png 630w,
/dev-blog/static/a232921cf2824318105a32af136d3222/40601/spaceInfo.png 945w,
/dev-blog/static/a232921cf2824318105a32af136d3222/85053/spaceInfo.png 1225w" sizes="(max-width: 630px) 100vw, 630px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
  </a>
    </span>
</div>
<br>
<div align="center">
    <style>
    .responsive-gif {
        max-width: 630px
    }
    @media (max-width: 400px) {
        .responsive-gif {
            max-width: 360px
        }
    }
    @media (max-width: 300px) {
        .responsive-gif {
            max-width: 300px
        }
    }
    .responsive-gif {
        padding: 10px;
    }
    </style>
    <img src="/dev-blog/72aa52dca512684e3677f779ca7ea1d7/spaceInfo.gif" class="responsive-gif">
    <p>다양한 기능을 가지는 공간 정보 컴포넌트</p>
</div>
<br>
<p>한눈에 보이듯이 반복되는 컴포넌트는 공간 정보 컴포넌트입니다. 어떻게 구현해볼 수 있을까요?</p>
<hr>
<h1>2. 최초 구현</h1>
<p>공간 정보 컴포넌트를 최초 구현할 때 많이 고민했습니다. 공간 정보 컴포넌트를 사용하는 페이지에 따라 Type으로 분류한다면 크게 Create, Read, Update로 구분할 수 있습니다.</p>
<p>공간 정보 컴포넌트는 각각의 페이지에서는 다음과 같은 기능과 요구사항을 가지고 있습니다.</p>
<ul>
<li>공간 정보 생성 페이지
<ul>
<li>Create</li>
<li>공간 이름 입력하기</li>
<li>공간 이름이 입력되면 생성하기 버튼이 활성화 된다.
<ul>
<li>생성하기 버튼을 클릭하면 공간이 생성되고 공간 정보 보기 페이지로 이동한다.</li>
</ul>
</li>
<li>이미지 추가 및 수정하기
<ul>
<li>이미지 추가 유무에 따른 텍스트와 컴포넌트를 보여준다.</li>
</ul>
</li>
</ul>
</li>
<li>공간 정보 보기 페이지
<ul>
<li>Read</li>
<li>공간 정보 보기</li>
<li>수정하기 버튼을 클릭하면 공간 수정 페이지로 이동한다.</li>
</ul>
</li>
<li>공간 정보 수정 페이지
<ul>
<li>Update</li>
<li>기존의 공간 이름, 공간 이미지를 보여준다.</li>
<li>공간 이름 수정하기</li>
<li>공간 이름이 입력되면 수정완료 버튼이 활성화 된다.
<ul>
<li>수정완료 버튼을 클릭하면 공간 정보가 수정되고 공간 정보 보기 페이지로 이동한다.</li>
</ul>
</li>
<li>이미지 추가 및 수정하기
<ul>
<li>이미지 추가 유무에 따른 텍스트와 컴포넌트를 보여준다.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>공간 정보 컴포넌트의 하위 컴포넌트들을 Type에 따라 시각적으로 분리하면 다음과 같습니다.</p>
<div align="center">
	<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; ">
      <a class="gatsby-resp-image-link" href="/dev-blog/static/73ecefab7c8caa6d4e20739083150ea0/7de21/spaceInfoGroup.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACPElEQVQoz22TS2sUQRSF+xeJK9eSnQs3irpQouhW3UgUIagoiuIDRMhO0fhYiLhQk43BB5IQJmLEGZxE5xXTmUl3T89MP6a7q1+fVHUmZmHB4d6i6p46VfeUFkYZkcgoYr4jFrmEiMHqOmy0LbUmsa4b9AdD4gQVG00dfxijjYpGkJuDMEHEGUmSb0Uw3Zi6FZJlkKZQ6wqcEPIMnCCl2vEQCWgFQVaQRGmhTuYiI45z4iTH8wXNVodf9T+Ypo1hOtSbbX7XGgwGPvqGTa2xjq630WQxeU4KdAIUkXyCUcxzqOkGN6ffcO7GdV69fsrctyqTU885ffEslZUKj2bmmbjzgNv3r6EZ9oAvpTKzH+ZYWl5SBJEQZJkky5Cj/LPO4WOnOLJ3N8+m7vHk5QwH9+9jfGwXpcUS5y/f4sDYHq6eOY5WqTU4OXmXQyfGmX48pQgkmRy5ZAdMy2F5cYHyx7esrVbV9cvz76l8nsUye5S//6D86R2rXxfQqit1Ll2Y4MrRMWZePERSJEmqyCTSNFfd6zkBtivwgxR/KOh7MYMgZRgmOG5I14lwhgma7wdYpkGeRGRpumWLfxYScY7rRbTWNmi21un1Pey+h942aW9aaq3dsajXWximLbucqVNky2VH/2cjqXDgBAqy42ruBjheyDCQCoMthNKH+baaEYEQCWladLjwItg9H7PrqlzuMSwHx42UsV1P0NnsqXpt5y8ZQZpZqo0VWfFrpDLPj7YPlsqCsHgipdIL1fwvXNorpivIuXUAAAAASUVORK5CYII='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="spaceInfoGroup" title="spaceInfoGroup" src="/dev-blog/static/73ecefab7c8caa6d4e20739083150ea0/f058b/spaceInfoGroup.png" srcset="/dev-blog/static/73ecefab7c8caa6d4e20739083150ea0/c26ae/spaceInfoGroup.png 158w,
/dev-blog/static/73ecefab7c8caa6d4e20739083150ea0/6bdcf/spaceInfoGroup.png 315w,
/dev-blog/static/73ecefab7c8caa6d4e20739083150ea0/f058b/spaceInfoGroup.png 630w,
/dev-blog/static/73ecefab7c8caa6d4e20739083150ea0/40601/spaceInfoGroup.png 945w,
/dev-blog/static/73ecefab7c8caa6d4e20739083150ea0/78612/spaceInfoGroup.png 1260w,
/dev-blog/static/73ecefab7c8caa6d4e20739083150ea0/7de21/spaceInfoGroup.png 1839w" sizes="(max-width: 630px) 100vw, 630px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
  </a>
    </span>
</div>
<br>
<p>간단해 보일 수도 있지만 실제 코드를 작성하다 보니 Type에 따른 이벤트 처리 및 상태 값에 따른 분기 처리가 복잡해졌습니다. 간략히 코드를 보면 다음과 같습니다.(부끄럽네요…)</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// SpaceInfo 컴포넌트</span>
<span class="token keyword">interface</span> <span class="token class-name">SpaceInfoProps</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'read'</span> <span class="token operator">|</span> <span class="token string">'create'</span> <span class="token operator">|</span> <span class="token string">'update'</span><span class="token punctuation">;</span>
  inputText<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">''</span> <span class="token operator">|</span> string<span class="token punctuation">;</span>
  data<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">;</span> imageUrl<span class="token operator">:</span> string<span class="token punctuation">;</span> id<span class="token operator">:</span> number <span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token literal-property property">SpaceInfo</span><span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token constant">FC</span><span class="token operator">&lt;</span>SpaceInfoProps<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> type <span class="token operator">=</span> <span class="token string">'read'</span><span class="token punctuation">,</span> inputText <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span> data <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> onChangeSpaceName<span class="token punctuation">,</span> onClickEditSpaceInfo<span class="token punctuation">,</span> <span class="token operator">...</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useSpaceInfo</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div css<span class="token operator">=</span><span class="token punctuation">{</span><span class="token comment">/*SpaceInfo 스타일*/</span><span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>p<span class="token operator">></span>공간 정보<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
        <span class="token punctuation">{</span>type <span class="token operator">===</span> <span class="token string">'read'</span> <span class="token operator">?</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Button type<span class="token operator">=</span><span class="token string">"button"</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>onClickEditSpaceInfo<span class="token punctuation">}</span><span class="token operator">></span>수정하기<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
        <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Button type<span class="token operator">=</span><span class="token string">"submit"</span><span class="token operator">></span><span class="token punctuation">{</span>type <span class="token operator">===</span> <span class="token string">'create'</span> <span class="token operator">?</span> <span class="token string">'생성하기'</span> <span class="token operator">:</span> <span class="token string">'수정완료'</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>p<span class="token operator">></span>공간 이름<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
        <span class="token punctuation">{</span>type <span class="token operator">===</span> <span class="token string">'read'</span> <span class="token operator">?</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>input name<span class="token operator">=</span><span class="token string">"nameInput"</span> type<span class="token operator">=</span><span class="token string">"text"</span> defaultValue<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token operator">?.</span>name<span class="token punctuation">}</span> readOnly <span class="token operator">/</span><span class="token operator">></span>
        <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>input
                name<span class="token operator">=</span><span class="token string">"nameInput"</span>
                placeholder<span class="token operator">=</span><span class="token string">"이름을 입력하세요"</span>
                type<span class="token operator">=</span><span class="token string">"text"</span>
                defaultValue<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token operator">?.</span>name <span class="token operator">||</span> inputText <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">}</span>
                onChange<span class="token operator">=</span><span class="token punctuation">{</span>onChangeSpaceName<span class="token punctuation">}</span>
                required
            <span class="token operator">/</span><span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>공간 정보 컴포넌트를 사용하는 페이지의 코드는 다음과 같습니다.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// 공간 정보 생성 페이지</span>
<span class="token keyword">const</span> <span class="token literal-property property">SpaceCreate</span><span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token function-variable function">FC</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> onSubmitCreateSpace <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useSpaceForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div css<span class="token operator">=</span><span class="token punctuation">{</span><span class="token comment">/*SpaceCreate 스타일*/</span><span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>onSubmitCreateSpace<span class="token punctuation">}</span> encType<span class="token operator">=</span><span class="token string">"multipart/form-data"</span><span class="token operator">></span>
            <span class="token operator">&lt;</span>SpaceInfo type<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'create'</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 공간 정보 보기 페이지</span>
<span class="token keyword">const</span> <span class="token literal-property property">DashBoard</span><span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token function-variable function">FC</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>
    spaceData<span class="token punctuation">,</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useDashBoard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div css<span class="token operator">=</span><span class="token punctuation">{</span><span class="token comment">/*DashBoard 스타일*/</span><span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>SpaceInfo type<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'read'</span><span class="token punctuation">}</span> data<span class="token operator">=</span><span class="token punctuation">{</span>spaceData<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>위처럼 코드를 구현하다 보니 가독성이 떨어지고 유지보수하기 어려워졌습니다. 또한 공간 정보 생성, 수정 페이지에서는 button의 type이 ‘submit’인 반면에 보기 페이지에서는 ‘button’이기 때문에 공간 정보 컴포넌트를 사용하는 곳에서 form 태그로 감싸줘야 하는 경우가 발생했습니다.</p>
<p>또한 코드를 작성하고 코드리뷰를 하는 과정에서 다음과 같은 의견이 나왔습니다.</p>
<ul>
<li>코드를 이해하기 어렵다.</li>
<li>공간 정보 컴포넌트를 사용하는 곳에서 어떻게 사용해야 할지 모르겠다.</li>
<li>로직이 어떻게 되는지 알수가 없어 코드 분석을 하는 비용이 많이 든다.</li>
</ul>
<h2>2-1. 왜? 이렇게 구현했나요?</h2>
<p>SpaceInfo 컴포넌트가 상황에 따라 각기 다른 요소들을 제어해야 하므로 이런 문제가 나왔다는 생각이 드는데요. 그럼 CreateSpaceInfo, ReadSpaceInfo, UpdateSpaceInfo로 컴포넌트를 분리해서 사용하면 안 되나? 라는 생각이 들 수도 있습니다.</p>
<p>하지만, 3가지 컴포넌트로 분리하자니 중복되는 코드들이 많이 생기는 문제점이 있었습니다. 또한 컴포넌트를 분리하면 독립된 환경이 되어 응집성이 떨어지므로 나중에는 완전히 다른 컴포넌트가 되어 <strong>컴포넌트 파편화가 발생하는 문제가 생깁니다.</strong> (예를 들면 폰트, 컬러, width 등 디자인 요소가 제각각 변경될 상황이 있습니다.)</p>
<p>결과적으로는 완전히 추상화가 잘못되었다는 것을 알 수 있었는데요. 이때 <code class="language-text">"올바른 추상화가 무엇일까?"</code> 에 대해 다시 한번 생각하게 되었고 다음과 같이 생각을 정리했습니다.</p>
<blockquote>
<p>올바른 추상화란? 다른 개발자가 컴포넌트를 사용처에서 선언적으로 사용할 수 있어야 한다. 컴포넌트가 어떤 로직을 수행하는지에 대해 명시적으로 알 수 있어야 한다.</p>
</blockquote>
<hr>
<h1>3. 합성 컴포넌트 도입</h1>
<p>합성 컴포넌트 패턴은 하나의 컴포넌트를 여러 가지 집합체로 분리한 뒤, 분리된 각 컴포넌트를 사용하는 쪽에서 조합해 사용하는 컴포넌트 패턴을 의미합니다.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span>select name<span class="token operator">=</span><span class="token string">"pets"</span> id<span class="token operator">=</span><span class="token string">"pet-select"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">""</span><span class="token operator">></span><span class="token operator">--</span>Please choose an option<span class="token operator">--</span><span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">></span>
    <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"dog"</span><span class="token operator">></span>Dog<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">></span>
    <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">"cat"</span><span class="token operator">></span>Cat<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">></span></code></pre></div>
<p>합성 컴포넌트 패턴의 예시로 위의 코드를 보시면 <code class="language-text">&lt;select></code>와 <code class="language-text">&lt;option></code> 태그의 조합으로 이루어져 사용되는 것을 볼 수 있습니다. <code class="language-text">&lt;select></code>와 <code class="language-text">&lt;option></code>은 각각 독립적인 요소이고 큰 의미를 가지지는 않지만 사용하는 곳에서 요소들을 자유롭게 조합함으로써 화면에 의미 있는 요소로 표현됩니다.(<a href="https://developer.mozilla.org/ko/docs/Web/HTML/Element/select">참고: select MDN</a>)</p>
<p>이처럼 사용하는 곳에서 컴포넌트의 조합을 활용할 수 있다면 높은 재사용성을 만족하면서 다양한 상황에 사용할 수 있다는 생각이 들어 도입해 보게 되었습니다. 앞에서 설명했던 최초 구현 시 구현했던 컴포넌트를 합성 컴포넌트로 어떻게 적용했는지 간략하게 설명해 보겠습니다.</p>
<h2>3-1. 서브 컴포넌트 구현</h2>
<p><code class="language-text">&lt;option></code> 태그에 해당하는 서브 컴포넌트를 구현합니다. 우선 SpaceInfo 컴포넌트가 가질 수 있는 하위 컴포넌트를 아래의 이미지처럼 SpaceInfoHeader, SpaceInfoImage, SpaceInfoInput으로 서브 컴포넌트를 분리했습니다.</p>
<div align="center"><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; ">
      <a class="gatsby-resp-image-link" href="/dev-blog/static/1d74c614c55d2999c4a634b61b5e3314/b7877/spaceInfoSeparation.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 105.69620253164558%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACzUlEQVQ4y42UvU8UQRjG7w+xtbO0sNHKaGFjNDSo0cQODTFiQ6FWJsR/wAKiUWOhxkRjgV8IHN9CwAgqB4eI4mfUu727/ZjdmfmZmWEve8chTvJkZnfffeZ5P3OR0GyFMFIW5ux5AV4lpFz2+fW7QqnsU/Z8qjXRYJtLD/9CImHhbYH8yARTU7Pk8xOMT8zwcnCED6vr9nud8F8KHZxCEWuqtZAgjFEaEqlJEoW0+4ZHQm+tMNiAe9YIIfG8GkEQobVGaW13e1bu4rrLm2OmQCpkrBriKGKs0qxtM3JxrPGDiGo1tC5opahEkvxnwXJJIhNtFZrgB6G0qFQju2dDkiIXJ1Cr+VQqPunSQNGHrwHEQtqgv5l/z+DQCKNjUwwNjzE4NMqTpwOUvcAqTz3LSQWlUoXBgTzDA8OMT84wMz3NyMt+/vz8YjwnCJUNvImh70f2XZwohEhcUmQmhlrBys/v9Nx6Qd/tx1x/NMTprk6OHN3D6OhTq7gWJCgFvh8ghKB5mcSkcc0Z/15/LNJ94x6X+u7Qc/c+HRe7uHS5g+m5cfuDH0irIkuQwiyX5ZQQmByf4lTHBQ61n+Ng2xmOt5/gwN7d9D/ZUOg717IkDYS6iXBs7BVtJ8/TefIwZ/fvonPfDo7tzNH/6GEDYbO6lgrNq8+rq9y5eYvnD3p5dq2b/t4r3L3aReHdvP0hCGSdsNVqiKEpGxPsPyWPRG02dtlz7WWUtILMZllK8CpVCssfWFwqEoYBaIWSib3ZdIYhdJ0g68VtkO2yemFHkasx6bqNODEkingD6c2muM1QMNC43dhvar36MAgdWvWn6YT19R8sF9cs3i8WKSytsvbp26a+3nZ8GaNYQnFljdnZN3YuLiwsMvd6nsLSCiYHrp+d+9sO2JTULCFihGFoynBD2fzPgHVZVnZs2PpTCq1V68LenlBnsulcE5lvouniv/rAN1zRs7xtAAAAAElFTkSuQmCC'); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="spaceInfoSeparation" title="spaceInfoSeparation" src="/dev-blog/static/1d74c614c55d2999c4a634b61b5e3314/f058b/spaceInfoSeparation.png" srcset="/dev-blog/static/1d74c614c55d2999c4a634b61b5e3314/c26ae/spaceInfoSeparation.png 158w,
/dev-blog/static/1d74c614c55d2999c4a634b61b5e3314/6bdcf/spaceInfoSeparation.png 315w,
/dev-blog/static/1d74c614c55d2999c4a634b61b5e3314/f058b/spaceInfoSeparation.png 630w,
/dev-blog/static/1d74c614c55d2999c4a634b61b5e3314/b7877/spaceInfoSeparation.png 891w" sizes="(max-width: 630px) 100vw, 630px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
  </a>
    </span></div>
<br>
<p>위의 이미지처럼 서브 컴포넌트로 분리했고 추가로 공간 이름을 보여주는 SpaceNameText 컴포넌트를 서브로 분리했습니다. SpaceInfo 컴포넌트의 구성요소가 될 수 있는 부분들을 서브 컴포넌트로 분류했고 사용하는 곳에서 서브 컴포넌트의 조합과 children으로 유연하게 SpaceInfo 컴포넌트를 구현할 수 있게 했습니다.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">interface</span> <span class="token class-name">SpaceInfoHeaderProps</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">children</span><span class="token operator">:</span> React<span class="token punctuation">.</span>ReactNode<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">SpaceNameTextProps</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">children</span><span class="token operator">:</span> React<span class="token punctuation">.</span>ReactNode<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token literal-property property">SpaceInfoHeader</span><span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token constant">FC</span><span class="token operator">&lt;</span>SpaceInfoHeaderProps<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div css<span class="token operator">=</span><span class="token punctuation">{</span><span class="token comment">/*SpaceInfoHeader 스타일*/</span><span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token literal-property property">SpaceNameText</span><span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token constant">FC</span><span class="token operator">&lt;</span>SpaceNameTextProps<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>p css<span class="token operator">=</span><span class="token punctuation">{</span><span class="token comment">/*SpaceNameText 스타일*/</span><span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// ... SpaceInfo 서브 컴포넌트</span></code></pre></div>
<h2>3-2. 메인 컴포넌트 구현</h2>
<p><code class="language-text">&lt;select></code> 태그에 해당하는 메인 컴포넌트를 구현합니다. SpaceInfo의 서브 컴포넌트들을 유연하게 묶어서 화면에 보여주는 Wrapper의 성격을 가지고 있습니다.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">interface</span> <span class="token class-name">SpaceInfoMainProps</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">children</span><span class="token operator">:</span> React<span class="token punctuation">.</span>ReactNode<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token literal-property property">SpaceInfoMain</span><span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token constant">FC</span><span class="token operator">&lt;</span>SpaceInfoMainProps<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div css<span class="token operator">=</span><span class="token punctuation">{</span><span class="token comment">/*SpaceInfoMain 스타일*/</span><span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<h2>3-3. 메인 &#x26; 서브 컴포넌트를 묶어서 export</h2>
<p>구현한 메인, 서브 컴포넌트를 묶어서 export 합니다. 사용하는 곳에서는 다음과 같이 간단하게 사용할 수 있습니다. 이렇게 구현하면 같은 도메인끼리 컴포넌트가 응집되어 사용됨으로써 가독성에 도움이 됩니다.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">const</span> SpaceInfo <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>SpaceInfoMain<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">header</span><span class="token operator">:</span> SpaceInfoHeader<span class="token punctuation">,</span>
  <span class="token literal-property property">ImageBox</span><span class="token operator">:</span> SpaceInfoImage<span class="token punctuation">,</span>
  <span class="token literal-property property">InputBox</span><span class="token operator">:</span> SpaceInfoInput<span class="token punctuation">,</span>
  <span class="token literal-property property">nameText</span><span class="token operator">:</span> SpaceNameText<span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Usage</span>
<span class="token operator">&lt;</span>SpaceInfo<span class="token operator">></span>
    <span class="token operator">&lt;</span>SpaceInfo<span class="token punctuation">.</span>header<span class="token operator">></span>
        <span class="token operator">&lt;</span>button<span class="token operator">></span>생성하기<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>SpaceInfo<span class="token punctuation">.</span>header<span class="token operator">></span>
    <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>SpaceInfo<span class="token operator">></span></code></pre></div>
<h2>3-4. 완성된 합성 컴포넌트를 사용해 화면 구현</h2>
<p>다양한 사용처에서 합성 컴포넌트로 유연하게 화면을 구현할 수 있습니다. 이렇게 구현함으로써 코드를 직관적으로 확인이 가능해 가독성이 좋아졌고 유연하게 서브 컴포넌트를 추가할 수 있어 다양한 요구사항에 쉽게 반영할 수 있습니다.</p>
<p>또한 합성 컴포넌트를 활용해 SpaceInfoCreateBox, SpaceInfoDisplayBox, SpaceInfoUpdateBox로 컴포넌트를 추상화 시켜 명시적인 컴포넌트를 구현했습니다. 최초 구현 시에는 이렇게 컴포넌트를 분리하면 <strong>컴포넌트 파편화</strong>가 발생한다고 했는데 합성 컴포넌트로 사용되는 컴포넌트를 <strong>한 곳에서 제어하고 응집시킴으로써</strong> 고려했던 문제를 해결했습니다.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// 공간 정보 생성 컴포넌트</span>
<span class="token keyword">const</span> <span class="token literal-property property">SpaceInfoCreateBox</span><span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token function-variable function">FC</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> isActiveSubmit<span class="token punctuation">,</span> onSubmitCreateSpace<span class="token punctuation">,</span> onChangeSpaceName <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useSpaceCreateForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> imageUrl<span class="token punctuation">,</span> onChangeImage <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">onSubmitCreateSpace</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> imageUrl<span class="token punctuation">)</span><span class="token punctuation">}</span> encType<span class="token operator">=</span><span class="token string">"multipart/form-data"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>SpaceInfo<span class="token operator">></span>
        <span class="token operator">&lt;</span>SpaceInfo<span class="token punctuation">.</span>header<span class="token operator">></span>
          <span class="token operator">&lt;</span>Button type<span class="token operator">=</span><span class="token string">"submit"</span> css<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span><span class="token function">button</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">isActive</span><span class="token operator">:</span> isActiveSubmit <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span>
            생성하기
          <span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>SpaceInfo<span class="token punctuation">.</span>header<span class="token operator">></span>
        <span class="token operator">&lt;</span>SpaceInfo<span class="token punctuation">.</span>ImageBox<span class="token operator">></span>
          <span class="token operator">&lt;</span>ImageBox<span class="token operator">></span>
            <span class="token operator">&lt;</span>ImageBox<span class="token punctuation">.</span>changeBox imageUrl<span class="token operator">=</span><span class="token punctuation">{</span>imageUrl<span class="token punctuation">}</span> onChangeImage<span class="token operator">=</span><span class="token punctuation">{</span>onChangeImage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>ImageBox<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>SpaceInfo<span class="token punctuation">.</span>ImageBox<span class="token operator">></span>
        <span class="token punctuation">{</span><span class="token comment">/* 유연하게 여기저기에 서브 컴포넌트 or Element를 추가해서 
        SpaceInfo컴포넌트를 수정 하지 않고 구현할 수 있습니다. */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>SpaceInfo<span class="token punctuation">.</span>InputBox<span class="token operator">></span>
          <span class="token operator">&lt;</span>input
            css<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>input<span class="token punctuation">}</span>
            name<span class="token operator">=</span><span class="token string">"nameInput"</span>
            placeholder<span class="token operator">=</span><span class="token string">"이름을 입력하세요."</span>
            type<span class="token operator">=</span><span class="token string">"text"</span>
            maxLength<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span>onChangeSpaceName<span class="token punctuation">}</span>
            required
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>SpaceInfo<span class="token punctuation">.</span>InputBox<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>SpaceInfo<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 공간 정보 생성 페이지</span>
<span class="token keyword">const</span> <span class="token literal-property property">SpaceCreate</span><span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token function-variable function">FC</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div css<span class="token operator">=</span><span class="token punctuation">{</span><span class="token comment">/*SpaceCreate 스타일*/</span><span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token punctuation">{</span><span class="token comment">/* 공간 정보 생성 컴포넌트 */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>SpaceInfoCreateBox <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<hr>
<h1>4. 마치면서</h1>
<p>요구사항이 복잡하고 다양한 상황을 고려해야 했던 컴포넌트를 재사용하기 위해 많이 고민했는데 합성 컴포넌트를 도입하면서 고민했던 문제를 해결할 수 있어 좋았습니다.</p>
<p>하지만 합성 컴포넌트가 만능이라고는 말할 수 없습니다. 단순히 render prop 패턴으로 props를 공유해서 구현하는 방식이 좀 더 직관적으로 코드를 구현할 수 있습니다. 개발할 때 요구사항에 따라 적절하게 합성 컴포넌트를 도입해보면 좋을 것 같습니다.</p>
<hr>
<blockquote>
<p>고민 끝에 구현된 결과물은 <a href="https://gongcheck.day/">공책 사이트</a>에서 경험 하실 수 있습니다.</p>
</blockquote>
<hr>
<h1>5. 참고</h1>
<p><a href="https://fe-developers.kakaoent.com/2022/220731-composition-component/">https://fe-developers.kakaoent.com/2022/220731-composition-component/</a>
<a href="https://jbee.io/web/components-should-be-flexible/">https://jbee.io/web/components-should-be-flexible/</a>
<a href="https://wishket.tistory.com/12">https://wishket.tistory.com/12</a>
<a href="https://kentcdodds.com/blog/compound-components-with-react-hooks">https://kentcdodds.com/blog/compound-components-with-react-hooks</a></p></section><div class="footer-division"></div><footer><div class="bio"><img class="bio-avatar" src="https://avatars.githubusercontent.com/u/56149367?v=4" width="60" height="60" alt="profile"/><div><strong>코카콜라</strong><div>우아한테크코스 4기 <!-- -->FE</div></div></div></footer></article></div></main><footer></footer><div class="scroll-up-button"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="50" width="50" xmlns="http://www.w3.org/2000/svg"><path d="M16 8A8 8 0 1 0 0 8a8 8 0 0 0 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"></path></svg></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/FE/코카콜라/composition-component/composition-component/";window.___webpackCompilationHash="5a22c8cbceedd7bb6349";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-3ca61338d6a21b0220f4.js"],"app":["/app-c19097725876148ac0d1.js"],"component---src-pages-404-js":["/component---src-pages-404-js-4c95ba93e6a819755bb7.js"],"component---src-pages-index-js":["/component---src-pages-index-js-bdc10297745c0af30b90.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-51cf8d8c7b0bef775cee.js"]};/*]]>*/</script><script src="/dev-blog/polyfill-3ca61338d6a21b0220f4.js" nomodule=""></script><script src="/dev-blog/app-c19097725876148ac0d1.js" async=""></script><script src="/dev-blog/framework-e16366b3430b769eb18b.js" async=""></script><script src="/dev-blog/webpack-runtime-8c3e47e9f40cad5f0a70.js" async=""></script></body></html>