<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="google-site-verification" content="2boy4mTZFpjeW291aYEx-aeG_otrQP6s7X8GIm89jgw"/><meta data-react-helmet="true" name="twitter:description" content="프로젝트에 React Transition Group 적용한 이유와 그 과정에 대한 회고와 내용 정리"/><meta data-react-helmet="true" name="twitter:title" content="React Transition Group 도입기"/><meta data-react-helmet="true" name="twitter:creator" content=""/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:description" content="프로젝트에 React Transition Group 적용한 이유와 그 과정에 대한 회고와 내용 정리"/><meta data-react-helmet="true" property="og:title" content="React Transition Group 도입기"/><meta data-react-helmet="true" name="description" content="프로젝트에 React Transition Group 적용한 이유와 그 과정에 대한 회고와 내용 정리"/><meta name="generator" content="Gatsby 4.18.0"/><style data-href="/dev-blog/styles.580e4564c06d705f6f4f.css" data-identity="gatsby-global-css">@font-face{font-family:SUIT-Medium;font-style:normal;font-weight:400;src:url(https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_suit@1.0/SUIT-Medium.woff2) format("woff2")}
/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{-webkit-text-size-adjust:100%;line-height:1.15}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0}pre{font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-size:1em}small{font-size:90%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden]{display:none}:root{--maxWidth-none:"none";--maxWidth-xs:20rem;--maxWidth-sm:24rem;--maxWidth-md:28rem;--maxWidth-lg:32rem;--maxWidth-xl:36rem;--maxWidth-2xl:42rem;--maxWidth-3xl:48rem;--maxWidth-4xl:56rem;--maxWidth-full:"100%";--maxWidth-wrapper:var(--maxWidth-2xl);--spacing-px:"1px";--spacing-0:0;--spacing-1:0.25rem;--spacing-2:0.5rem;--spacing-3:0.75rem;--spacing-4:1rem;--spacing-5:1.25rem;--spacing-6:1.5rem;--spacing-8:2rem;--spacing-10:2.5rem;--spacing-12:3rem;--spacing-16:4rem;--spacing-20:5rem;--spacing-24:6rem;--spacing-32:8rem;--fontFamily-sans:Montserrat,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--fontFamily-serif:"Merriweather","Georgia",Cambria,"Times New Roman",Times,serif;--font-body:var(--fontFamily-serif);--font-heading:var(--fontFamily-sans);--fontWeight-normal:400;--fontWeight-medium:500;--fontWeight-semibold:600;--fontWeight-bold:700;--fontWeight-extrabold:800;--fontWeight-black:900;--fontSize-root:16px;--lineHeight-none:1;--lineHeight-tight:1.1;--lineHeight-normal:1.5;--lineHeight-relaxed:1.625;--fontSize-0:0.833rem;--fontSize-1:1rem;--fontSize-2:1.2rem;--fontSize-3:1.44rem;--fontSize-4:1.728rem;--fontSize-5:2.074rem;--fontSize-6:2.488rem;--fontSize-7:2.986rem;--color-primary:#005b99;--color-text:#4e5968;--color-text-light:#b0b8c1;--color-heading:#333d4b;--color-heading-black:#333d4b;--color-accent:#d1dce5;--color-first:#68c1f8}*,:after,:before{box-sizing:border-box}html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:var(--fontSize-root);line-height:var(--lineHeight-normal)}body{color:var(--color-text);font-family:SUIT-Medium;font-size:var(--fontSize-1);overflow-x:hidden}footer{padding:var(--spacing-6) var(--spacing-0)}hr{background:var(--color-accent);border:0;height:1px}h1,h2,h3{margin-bottom:var(--spacing-6);margin-top:var(--spacing-8)}h1,h2,h3,h4,h5,h6{font-family:SUIT-Medium;letter-spacing:-.025em;line-height:var(--lineHeight-tight)}h4,h5,h6{margin-bottom:var(--spacing-4);margin-top:var(--spacing-6)}h2,h3,h4,h5,h6{color:var(--color-heading);font-weight:var(--fontWeight-bold)}h1{color:var(--color-heading-black);font-weight:var(--fontWeight-black)}h1,h2 a span{font-size:var(--fontSize-6)}h2 a span{color:#333d4b;font-weight:800}h2{font-size:var(--fontSize-5)}h3{font-size:var(--fontSize-4)}h4{font-size:var(--fontSize-3)}h5{font-size:var(--fontSize-2)}h6{font-size:var(--fontSize-1)}h1>a,h2>a,h3>a,h4>a,h5>a,h6>a{color:inherit;text-decoration:none}p{--baseline-multiplier:0.179;--x-height-multiplier:0.35;line-height:var(--lineHeight-relaxed);margin:var(--spacing-0) var(--spacing-0) var(--spacing-8) var(--spacing-0);padding:var(--spacing-0)}ol,p,ul{word-wrap:break-word}ol,ul{list-style-image:none;list-style-position:outside;margin-bottom:var(--spacing-8);margin-top:24px;padding:0 var(--spacing-5)}ol li,ul li{margin-bottom:8px}li>p{margin-bottom:calc(var(--spacing-8)/2)}li :last-child{margin-bottom:var(--spacing-0)}li>ul{margin-top:calc(var(--spacing-8)/2)}blockquote{word-wrap:break-word;background-color:#68c1f820;border-left:var(--spacing-1) solid #68c1f8;color:var(--color-text);font-size:var(--fontSize-2);font-style:italic;margin-bottom:var(--spacing-8);margin-left:calc(var(--spacing-2)*-1);margin-right:calc(var(--spacing-2)*-1);padding:var(--spacing-2) var(--spacing-0) var(--spacing-2) var(--spacing-2)}.language-text{word-wrap:break-word!important}blockquote>:last-child{margin-bottom:var(--spacing-0)}blockquote>ol,blockquote>ul{list-style-position:inside}table{border-collapse:collapse;border-spacing:.25rem;margin-bottom:var(--spacing-8);width:100%}table thead tr th{border-bottom:1px solid var(--color-accent)}a{color:var(--color-primary)}a:focus,a:hover{text-decoration:none}.global-wrapper[data-is-root-path=true] .bio{margin-bottom:var(--spacing-24)}.content-wrapper{margin:0 auto}.content-wrapper,.list-wrapper{max-width:var(--maxWidth-wrapper)}.list-wrapper{margin:96px 0 48px;width:100%}.list-wrapper li{margin-bottom:var(--spacing-24)}.list-wrapper ol div{align-items:center;display:flex;justify-content:center}.list-wrapper button{background-color:#f1f2f6;border:1px solid #ced6e0;border-radius:16px;cursor:pointer;margin-right:12px;padding:4px 16px}.list-wrapper button:hover{background-color:#dfe6e9}.list-wrapper .tag-button-clicked{background-color:#ced6e0;color:#fff;font-weight:600}.post-wrapper{margin-top:136px;max-width:var(--maxWidth-wrapper);padding:0 16px}@media (max-width:42rem){.post-wrapper{max-width:100vw}}.main-heading,.main-heading-top{height:68px;left:0;line-height:-60px;margin:0;padding:16px 48px;position:fixed;top:0;width:100vw;z-index:2}.main-heading{background-color:#fff;border-bottom:2px solid #e6e8ea}.post-list-item{margin-top:var(--spacing-16)}.post-list-item p{margin-bottom:var(--spacing-4)}.post-list-item h2{font-size:36px;font-weight:600;margin-bottom:var(--spacing-2);margin-top:var(--spacing-0)}.post-list-item header{margin-bottom:var(--spacing-4)}.post-list-item h2 span:hover{color:#005b99}.post-list-item footer{align-items:center;display:flex;margin:0;padding:0}.post-list-item footer img{border-radius:100%;height:32px;margin:0 8px;width:32px}.post-list-item footer strong{margin:0 8px 0 0}.header-link-home{font-family:SUIT-Medium;font-size:var(--fontSize-2);font-weight:var(--fontWeight-bold);text-decoration:none}.bio{display:flex;margin-bottom:var(--spacing-16)}.bio div div{color:var(--color-text-light)}.bio strong{font-size:var(--fontSize-2);margin-top:4px}.bio-avatar{border-radius:100%;margin-right:16px}.blog-post header h1{margin:var(--spacing-0) var(--spacing-0) var(--spacing-4) var(--spacing-0)}.blog-post header p{color:var(--color-text-light);font-family:SUIT-Medium;font-size:var(--fontSize-1)}.blog-post section{margin-top:24px}.gatsby-highlight{margin-bottom:var(--spacing-8)}@media (max-width:42rem){blockquote{margin-left:var(--spacing-0);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-4)}ol,ul{list-style-position:inside}}#gatsby-focus-wrapper,main{align-items:center;display:flex;justify-content:center}.post-info{display:flex;height:32px;justify-content:space-between}.no-posts{font-size:var(--fontSize-4);margin:240px 0}.footer-division{box-shadow:0 2px 1px 0 #b2bec3;height:2px;margin-top:var(--spacing-16)}.swiper{bottom:120px;height:100%;top:68px;width:100vw}.swiper-slide{font-size:18px;text-align:center}.swiper-slide img{height:480px;max-height:480px;width:100%}@media (max-width:1000px){.swiper-slide img{height:360px;max-height:360px;width:100%}}@media (max-width:600px){.swiper-slide img{height:240px;max-height:240px;width:100%}.main-heading,.main-heading-top{display:flex;justify-content:center}}.scroll-up-button{align-items:center;border-radius:50%;bottom:40px;box-shadow:0 5px 15px rgba(0,0,0,.25);color:var(--color-first);cursor:pointer;display:flex;font-size:20px;height:50px;justify-content:center;opacity:1;position:fixed;right:50px;transition:all .15s ease-in-out 0s;visibility:visible;width:50px}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}@font-face{font-family:swiper-icons;font-style:normal;font-weight:400;src:url("data:application/font-woff;charset=utf-8;base64, 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")}:root{--swiper-theme-color:#007aff}.swiper{list-style:none;margin-left:auto;margin-right:auto;overflow:hidden;padding:0;position:relative;z-index:1}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{box-sizing:content-box;display:flex;height:100%;position:relative;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;width:100%;z-index:1}.swiper-android .swiper-slide,.swiper-wrapper{-webkit-transform:translateZ(0);transform:translateZ(0)}.swiper-pointer-events{touch-action:pan-y}.swiper-pointer-events.swiper-vertical{touch-action:pan-x}.swiper-slide{flex-shrink:0;height:100%;position:relative;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;width:100%}.swiper-slide-invisible-blank{visibility:hidden}.swiper-autoheight,.swiper-autoheight .swiper-slide{height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:height,-webkit-transform;transition-property:transform,height;transition-property:transform,height,-webkit-transform}.swiper-backface-hidden .swiper-slide{-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform:translateZ(0);transform:translateZ(0)}.swiper-3d,.swiper-3d.swiper-css-mode .swiper-wrapper{-webkit-perspective:1200px;perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d .swiper-slide,.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top,.swiper-3d .swiper-wrapper{-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%;z-index:10}.swiper-3d .swiper-slide-shadow{background:rgba(0,0,0,.15)}.swiper-3d .swiper-slide-shadow-left{background-image:linear-gradient(270deg,rgba(0,0,0,.5),transparent)}.swiper-3d .swiper-slide-shadow-right{background-image:linear-gradient(90deg,rgba(0,0,0,.5),transparent)}.swiper-3d .swiper-slide-shadow-top{background-image:linear-gradient(0deg,rgba(0,0,0,.5),transparent)}.swiper-3d .swiper-slide-shadow-bottom{background-image:linear-gradient(180deg,rgba(0,0,0,.5),transparent)}.swiper-css-mode>.swiper-wrapper{-ms-overflow-style:none;overflow:auto;scrollbar-width:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:start start}.swiper-horizontal.swiper-css-mode>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-vertical.swiper-css-mode>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-centered>.swiper-wrapper:before{content:"";flex-shrink:0;order:9999}.swiper-centered.swiper-horizontal>.swiper-wrapper>.swiper-slide:first-child{-webkit-margin-start:var(--swiper-centered-offset-before);margin-inline-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-horizontal>.swiper-wrapper:before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-centered.swiper-vertical>.swiper-wrapper>.swiper-slide:first-child{-webkit-margin-before:var(--swiper-centered-offset-before);margin-block-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-vertical>.swiper-wrapper:before{height:var(--swiper-centered-offset-after);min-width:1px;width:100%}.swiper-centered>.swiper-wrapper>.swiper-slide{scroll-snap-align:center center}.swiper-pagination{position:absolute;text-align:center;-webkit-transform:translateZ(0);transform:translateZ(0);transition:opacity .3s;z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:10px;left:0;width:100%}.swiper-pagination-bullets-dynamic{font-size:0;overflow:hidden}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{position:relative;-webkit-transform:scale(.33);transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active,.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{-webkit-transform:scale(1);transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{-webkit-transform:scale(.66);transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{-webkit-transform:scale(.33);transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{-webkit-transform:scale(.66);transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{-webkit-transform:scale(.33);transform:scale(.33)}.swiper-pagination-bullet{background:var(--swiper-pagination-bullet-inactive-color,#000);border-radius:50%;display:inline-block;height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));opacity:var(--swiper-pagination-bullet-inactive-opacity,.2);width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px))}button.swiper-pagination-bullet{-webkit-appearance:none;appearance:none;border:none;box-shadow:none;margin:0;padding:0}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{background:var(--swiper-pagination-color,var(--swiper-theme-color));opacity:var(--swiper-pagination-bullet-opacity,1)}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:10px;top:50%;-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{display:block;margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:transform .2s,top .2s}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:transform .2s,left .2s}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:transform .2s,right .2s}.swiper-pagination-progressbar{background:rgba(0,0,0,.25);position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));height:100%;left:0;position:absolute;top:0;-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:left top;transform-origin:left top;width:100%}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{-webkit-transform-origin:right top;transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{height:4px;left:0;top:0;width:100%}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{height:100%;left:0;top:0;width:4px}.swiper-pagination-lock{display:none}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="sitemap" type="application/xml" href="/dev-blog/sitemap/sitemap-index.xml"/><link rel="icon" href="/dev-blog/favicon-32x32.png?v=5c90c0b2b79dc86b3e5dec3614c0f121" type="image/png"/><link rel="manifest" href="/dev-blog/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/dev-blog/icons/icon-48x48.png?v=5c90c0b2b79dc86b3e5dec3614c0f121"/><link rel="apple-touch-icon" sizes="72x72" href="/dev-blog/icons/icon-72x72.png?v=5c90c0b2b79dc86b3e5dec3614c0f121"/><link rel="apple-touch-icon" sizes="96x96" href="/dev-blog/icons/icon-96x96.png?v=5c90c0b2b79dc86b3e5dec3614c0f121"/><link rel="apple-touch-icon" sizes="144x144" href="/dev-blog/icons/icon-144x144.png?v=5c90c0b2b79dc86b3e5dec3614c0f121"/><link rel="apple-touch-icon" sizes="192x192" href="/dev-blog/icons/icon-192x192.png?v=5c90c0b2b79dc86b3e5dec3614c0f121"/><link rel="apple-touch-icon" sizes="256x256" href="/dev-blog/icons/icon-256x256.png?v=5c90c0b2b79dc86b3e5dec3614c0f121"/><link rel="apple-touch-icon" sizes="384x384" href="/dev-blog/icons/icon-384x384.png?v=5c90c0b2b79dc86b3e5dec3614c0f121"/><link rel="apple-touch-icon" sizes="512x512" href="/dev-blog/icons/icon-512x512.png?v=5c90c0b2b79dc86b3e5dec3614c0f121"/><title data-react-helmet="true">React Transition Group 도입기 | 공책 팀 개발 블로그</title></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="global-wrapper" data-is-root-path="false"><header><h1 class="main-heading main-heading-scroll"><a href="/dev-blog/"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained logo-title"><div style="max-width:240px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;36&#x27; width=&#x27;240&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/23593/logo-title.webp 60w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/ddc25/logo-title.webp 120w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/c26a2/logo-title.webp 240w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/1cf1b/logo-title.webp 480w" sizes="(min-width: 240px) 240px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 240px) 240px, 100vw" decoding="async" loading="lazy" data-src="/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/0f928/logo-title.png" data-srcset="/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/16ace/logo-title.png 60w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/8ee1c/logo-title.png 120w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/0f928/logo-title.png 240w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/8791d/logo-title.png 480w" alt="Logo picture"/></picture><noscript><picture><source type="image/webp" srcSet="/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/23593/logo-title.webp 60w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/ddc25/logo-title.webp 120w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/c26a2/logo-title.webp 240w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/1cf1b/logo-title.webp 480w" sizes="(min-width: 240px) 240px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 240px) 240px, 100vw" decoding="async" loading="lazy" src="/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/0f928/logo-title.png" srcSet="/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/16ace/logo-title.png 60w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/8ee1c/logo-title.png 120w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/0f928/logo-title.png 240w,/dev-blog/static/e6ac982d4c71217fddc8fe7cdf63e737/8791d/logo-title.png 480w" alt="Logo picture"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></a></h1></header><main class="content-wrapper"><div class="post-wrapper"><article class="blog-post" itemscope="" itemType="http://schema.org/Article"><header><h1 itemProp="headline">React Transition Group 도입기</h1><div>2022.10.10</div></header><section itemProp="articleBody"><p>안녕하세요. “함께 사용하는 우리의 공간, 우리가 체크하자!”</br>
GongCheck 팀에서 프론트엔드 개발을 맡고 있는 온스타입니다.</br>
저희 팀은 우아한테크코스 4기 과정에서 공간관리 체크리스트 애플리케이션을 개발하고 있습니다.</p>
<p>저희 GongCheck 프로젝트에는 페이지 전환 애니메이션이 적용되어있는데, 이를 위해 react-transition-group 을 이용하였습니다.</p>
<p>페이지 전환 애니메이션과 react-transition-group 도입에 있어서 어떤 고민의 과정을 거쳤는지에 대한 글입니다.</p>
<hr>
<blockquote>
<p>우리는 react-transition-group 이 왜 필요했고, 어떻게 도입했는가?</p>
</blockquote>
<h3>페이지 전환 애니메이션이 왜 필요했을까?</h3>
<p>현재 GongCheck 프로젝트에 적용되어있는 페이지 전환 애니메이션입니다.</p>
<img src="/dev-blog/ecea044dd80bc8284fe8c4a63d10688e/first.gif" width="280">
<p>GongCheck 프로젝트는 위의 영상에서 보이는 공간 사용자를 위한 사이트와, 또 다른 공간 관리자를 위한 사이트가 분리되어있습니다.</p>
<p>GongCheck의 공간 사용자를 위한 페이지에만 페이지 전환 애니메이션이 적용되어있는데, 그 이유는 다음과 같습니다.</p>
<p>‘우아한테크코스’라는 관리자는 ‘잠실 캠퍼스’와 ‘선릉 캠퍼스’라는 두 개의 공간을 가지고 있고, 각 캠퍼스는 ‘청소’와 ‘마감’이라는 업무를 가지고 있죠.
지금은 두 개의 공간과 각 공간당 두 개의 업무뿐이지만 업무가 더 늘어난다면 사용자가 원하는 업무에 들어가기 위해 고려해야 할 사항이 점점 늘어납니다.</p>
<p><code class="language-text">사용자가 내가 지금 어떤 장소 페이지에서 어떤 상호작용을 하고 있는지, 페이지 애니메이션을 통해 지속해서 확인</code>할 수 있도록 도와주는 것이죠.</p>
<p>이러한 이유로 미묘한 차이지만 ‘공간 목록에서 업무 목록으로의 페이지 전환 애니메이션’과 ‘업무 목록에서 체크리스트 페이지로의 페이지 전환 애니메이션’은 다르게 해놓았습니다.</p>
<p>이뿐만 아니라 좀 더 다양한 작업과 인터렉션이 있어야 하는 관리자 사이트와는 다르게 공간 사용자를 위한 사이트는 목적이 단순하고 명확합니다.</p>
<p>“사용자는 원하는 공간의 체크리스트를 찾고, 체크리스트에 체크할 수 있어야 한다.”</p>
<p>사이트의 목적이 단순하고 명확하다는 것은 ‘사용자가 할 수 있는 일이 적다’라고도 이해할 수 있는데, 이때 사용자에게 단순한 유저의 경험까지 제공한다면 사용자에겐 이용하고 싶지 않은 매력이 없는 사이트가 될 수도 있겠죠. 때문에 <code class="language-text">사용자 경험의 향상</code>을 위해 사용자가 확실하게 느낄 수 있는 페이지 애니메이션을 적용했습니다.</p>
<h2>react-transition-group?</h2>
<p>react-transition-group는 react-motion, framer-motion 같은 애니메이션 라이브러리가 아닙니다.
리액트에서 컴포넌트가 DOM에 마운팅되고 언마운팅되는 상황에 애니메이션을 적용할 수 있도록 도와주는 React 팀이 자체적으로 제공하는 라이브러리입니다.</p>
<p>react-transition-group는 Transition, CSSTransition, SwitchTransition, TransitionGroup 이라는 4개의 컴포넌트를 제공하는데, 이에 대해 가볍게만 살펴보면 다음과 같습니다.</p>
<h3>Transition</h3>
<p>컴포넌트의 마운트, 언마운트를 ‘entering’, ‘entered’, ‘exiting’, ‘exited’ 라는 상태를 기반으로 설명하며, 이 상태에 따라 컴포넌트를 조작할 수 있도록 도와주는 컴포넌트입니다. 단, 하나의 컴포넌트에 4가지 전환(transition) 상태만 부여할 뿐이며, 상태 부여에만 관심이 있기 때문에 전화 애니메이션에 대한 CSS를 조작하기 위해서는 이후에 설명할 CSSTransition 컴포넌트를 이용하는 것이 더 자연스럽습니다.</p>
<h3>CSSTransition</h3>
<p>Transition 컴포넌트의 모든 속성을 상속하며, 컴포넌트의 마운트, 언마운트 시점을 상태로 관리하며 이에 대한 CSS 효과나 애니메이션을 부여하기 위해 사용됩니다. Transition은 4가지의 상태값으로만 마운트, 언마운트를 상황을 설명하지만, CSSTransition에서는 임의적인 이름을 가진 클래스 이름의 뒤에 마운트, 언마운트 상황을 부여하여, CSS로 더 쉽게 조작할 수 있도록 합니다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span>CSSTransition nodeRef<span class="token operator">=</span><span class="token punctuation">{</span>nodeRef<span class="token punctuation">}</span> <span class="token keyword">in</span><span class="token operator">=</span><span class="token punctuation">{</span>inProp<span class="token punctuation">}</span> timeout<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">200</span><span class="token punctuation">}</span> classNames<span class="token operator">=</span><span class="token string">"my-node"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token punctuation">{</span>nodeRef<span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token punctuation">{</span><span class="token string">"I'll receive my-node-* classes"</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>CSSTransition<span class="token operator">></span></code></pre></div>
<p>CSSTransition으로 묶인 컴포넌트가 마운트, 언마운트되는 상황은 my-node-enter, my-node-enter-active, my-node-exit, my-node-exit-active 의 상황으로 표현될 것이고, 이 클래스들의 이름을 이용하여 CSS를 작성하면, 전환 애니메이션을 쉽게 조작할 수 있습니다.</p>
<h3>SwitchTransition</h3>
<p>Transition 또는 CSSTransition을 하위 컴포넌트로 가지는데, 상태 변화에 따라 기존의 컴포넌트가 언마운트되고 새롭게 마운트된다면 그 상태 전환 사이의 렌더링을 제어합니다.
‘out-in’, ‘in-out’으로 이루어진 두 가지 모드를 가지고 마운트, 언마운트 시점을 조작합니다. mode가 out-in일 경우, 현재 요소가 먼저 전환된 다음 완료되면 새 요소가 전환됩니다. mode가 in-out일 경우 새 요소가 먼저 전환된 다음 완료되면 현재 요소가 전환됩니다.</p>
<h3>TransitionGroup</h3>
<p>SwitchTransition과 마찬가지로, 상태 변화에 따라 컴포넌트가 마운트되고, 언마운트될 떄 그 상태 전환 사이의 렌더링을 조작할 수 있게합니다. 다만, 마운트 대상, 언마운트 대상을 직접 기억하고 관리하며, 애니메이션을 동시에 발생시킬 수 있도록합니다. 다만, 마운트, 언마운트될 대상 컴포넌트를 각각의 key로 관리할 수 있어야합니다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">    <span class="token operator">&lt;</span>TransitionGroup className<span class="token operator">=</span><span class="token string">"todo-list"</span><span class="token operator">></span>
          <span class="token punctuation">{</span>items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> id<span class="token punctuation">,</span> text<span class="token punctuation">,</span> nodeRef <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>CSSTransition
              key<span class="token operator">=</span><span class="token punctuation">{</span>id<span class="token punctuation">}</span>
              nodeRef<span class="token operator">=</span><span class="token punctuation">{</span>nodeRef<span class="token punctuation">}</span>
              timeout<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">500</span><span class="token punctuation">}</span>
              classNames<span class="token operator">=</span><span class="token string">"item"</span>
            <span class="token operator">></span>
              <span class="token operator">&lt;</span>ListGroup<span class="token punctuation">.</span>Item ref<span class="token operator">=</span><span class="token punctuation">{</span>nodeRef<span class="token punctuation">}</span><span class="token operator">></span>
                <span class="token operator">...</span></code></pre></div>
<p>더욱 자세한 설명은 <a href="http://reactcommunity.org/react-transition-group/">http://reactcommunity.org/react-transition-group/</a> 에 들어가면 확인할 수 있습니다.</p>
<p>react-transition-group이 제공하는 4가지 컴포넌트에 대해 간략하게 보았는데, 우리는 페이지 전환시의 CSS 조작을 해야했으며, 기존의 페이지와 바뀔 페이지에 대한 애니메이션이 동시적으로 발생해야했습니다.</p>
<p>따라서, 이런 니즈에 따라 CSSTransition 과 TransitionGroup을 묶어서 사용하게되었습니다.</p>
<h2>공책팀에서 react-transition-group을 사용한 방법</h2>
<p>우선, TransitionGroup과 CSSTransition를 묶어서 관리할 수 있는 Transitions라는 컴포넌트를 만들었습니다.
이때 사용한 childFactory라는 속성은 TransitionGroup이 가지는 속성입니다. 이미 언마운트된 엘리먼트에 대해 접근이 필요한 경우, 리액트의 cloneElement를 통해 엘리먼트를 복제하고, 그에 대해 접근할 수 있도록해주는 속성입니다.</p>
<p>Transitions 컴포넌트는 transition, pageKey, children이라는 props를 받고 있는데, transition은 페이지별 애니메이션을 분기 처리하기 위해 상위 컴포넌트로부터 props로 주입받고 있으며, 이는 useTransitionSelect 라는 훅을 통해 페이지에 필요한 애니메이션 효과를 받아오고 있습니다. useTransitionSelect 훅이 하는 역할과 그 필요에 대해서는 이후에 살펴보겠습니다.</p>
<p>pageKey는 CSSTransition의 key값으로 들어갈 location.pathname의 값입니다. 이 pageKey가 변경될 때(페이지가 전환 될 때) 이전 요소와 새 요소에 대해 애니메이션 효과가 적용되게 됩니다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// Transitions.tsx</span>

<span class="token keyword">const</span> <span class="token function-variable function">childFactoryCreator</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">classNames</span><span class="token operator">:</span> string <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">child</span><span class="token operator">:</span> React<span class="token punctuation">.</span>ReactElement</span><span class="token punctuation">)</span> <span class="token operator">=></span>
  <span class="token function">cloneElement</span><span class="token punctuation">(</span>child<span class="token punctuation">,</span> props<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token literal-property property">Transitions</span><span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token constant">FC</span><span class="token operator">&lt;</span>TransitionsProps<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> transition<span class="token punctuation">,</span> pageKey<span class="token punctuation">,</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>TransitionGroup className<span class="token operator">=</span><span class="token string">"transitions-group"</span> childFactory<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">childFactoryCreator</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">classNames</span><span class="token operator">:</span> transition <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>CSSTransition key<span class="token operator">=</span><span class="token punctuation">{</span>pageKey<span class="token punctuation">}</span> timeout<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">500</span><span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token punctuation">{</span>children<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>CSSTransition<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>TransitionGroup<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Transitions 컴포넌트가 적용된 라우팅을 불러오는 곳은 다음과 같습니다. Transitions 컴포넌트를 통해 관심사를 분리하였고 useRouts를 통해 라우팅될 페이지를 불러오고있기때문에 상당히 간결한 코드로 페이지 전환 애니메이션과 라우팅을 처리할 수 있게되었습니다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">//App.tsx</span>

 <span class="token keyword">const</span> content <span class="token operator">=</span> <span class="token function">useRoutes</span><span class="token punctuation">(</span>routes<span class="token punctuation">,</span> location<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">const</span> transition <span class="token operator">=</span> <span class="token function">useTransitionSelect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Transitions pageKey<span class="token operator">=</span><span class="token punctuation">{</span>location<span class="token punctuation">.</span>pathname<span class="token punctuation">}</span> transition<span class="token operator">=</span><span class="token punctuation">{</span>transition<span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token punctuation">{</span>content<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Transitions<span class="token operator">></span></code></pre></div>
<p>페이지별 애니메이션 효과 분기를 위한 useTransitionSelect의 내부코드는 다음과 같습니다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// hooks/useTransitionSelect.ts</span>

<span class="token keyword">const</span> <span class="token function-variable function">useTransitionSelect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> location <span class="token operator">=</span> <span class="token function">useLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> previousPath <span class="token operator">=</span> sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> previousPage <span class="token operator">=</span> <span class="token function">getPageByPath</span><span class="token punctuation">(</span>previousPath <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> currentPage <span class="token operator">=</span> <span class="token function">getPageByPath</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>pathname<span class="token punctuation">)</span><span class="token punctuation">;</span>

  sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">,</span> location<span class="token punctuation">.</span>pathname<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>currentPage <span class="token operator">===</span> <span class="token string">'passwordPage'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>currentPage <span class="token operator">===</span> <span class="token string">'spaceListPage'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>previousPage <span class="token operator">===</span> <span class="token string">'passwordPage'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">'slide-left'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>currentPage <span class="token operator">===</span> <span class="token string">'jobListPage'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>previousPage <span class="token operator">===</span> <span class="token string">'spaceListPage'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">'slide-right'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>previousPage <span class="token operator">===</span> <span class="token string">'taskListPage'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">'left'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>currentPage <span class="token operator">===</span> <span class="token string">'taskListPage'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'right'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token string">''</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">//styles/transitions.ts</span>

<span class="token operator">...</span>
<span class="token comment">// right</span>
  <span class="token punctuation">.</span>right<span class="token operator">-</span>enter <span class="token punctuation">{</span>
    z<span class="token operator">-</span>index<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token literal-property property">transform</span><span class="token operator">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span>right<span class="token operator">-</span>enter<span class="token punctuation">.</span>right<span class="token operator">-</span>enter<span class="token operator">-</span>active <span class="token punctuation">{</span>
    z<span class="token operator">-</span>index<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token literal-property property">transform</span><span class="token operator">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token literal-property property">transition</span><span class="token operator">:</span> transform 600ms<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span>right<span class="token operator">-</span>exit <span class="token punctuation">{</span>
    z<span class="token operator">-</span>index<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token literal-property property">transform</span><span class="token operator">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token literal-property property">transition</span><span class="token operator">:</span> transform 600ms<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token comment">//...</span></code></pre></div>
<p>세션 스토리지를 이용해 이전 pathname에 대한 정보를 저장하고, 현재 pathname과 비교하여, 애니메이션이 적용될 클래스 이름을 반환합니다. 아래의 코드처럼 right, left, slide-right 등 필요한 페이지 전환 애니메이션에 대한 css 코드는 한 곳에서 작성하여 보관하고, 필요한 클래스 이름만 반환하면 원하는 곳에서 원하는 페이지 애니메이션이 발생할 수 있게 됩니다.</p>
<p>다만, pathname을 통해 페이지의 이름을 받아오는 로직은 pathname의 ’<a href="http://www.gongcheck.day/spaces/1/2&#x27;%EC%B2%98%EB%9F%BC">www.gongcheck.day/spaces/1/2’처럼</a> ’/’ depth에만 의존을 하고 있는데,
원래 기존의 방식은 페이지가 전환될 때마다 page 컴포넌트에서 어떤 페이지인지 명시적으로 저장하는 것이었습니다.
페이지 컴포넌트를 생성할 때마다 어떤 페이지인지 저장한다는 로직을 반복적으로 부여해주었어야 했고,
페이지 컴포넌트가 애니메이션이라는 것에 의존적으로 필요 없는 로직을 갖게 되는 것이 마음에 들지 않아 현재의 방식으로 이전 페이지, 현재 페이지를 관리하고 있습니다. 이 부분에 대해서는 더 좋은 방법이 있는지 고민을 해볼 수 있겠다고 생각합니다.</p>
<h3>정리</h3>
<p>공책팀은 사용자의 경험과 페이지의 분리를 위해 페이지 전환효과를 공책팀만의 방식으로 적용했습니다. 공식문서에 따라 필요한 속성을 적절히 사용한 컴포넌트를 만들었고, 필요한 props만 넘겨주는 것으로 다른 페이지를 생성하게 되어도 동일한 방식으로 애니메이션을 부여할 수 있게끔 하였습니다. 페이지별 애니메이션 분기 처리에 대해서는 더 합리적인 방식이 있을지 고민 중입니다.</p>
<h3>참고자료</h3>
<ul>
<li><a href="http://reactcommunity.org/react-transition-group/">http://reactcommunity.org/react-transition-group/</a></li>
<li><a href="https://medium.com/onfido-tech/animations-with-react-router-8e97222e25e1">https://medium.com/onfido-tech/animations-with-react-router-8e97222e25e1</a></li>
<li><a href="https://codesandbox.io/s/animated-routes-demo-react-router-v6-6l1li?fontsize=14&#x26;hidenavigation=1&#x26;theme=dark&#x26;file=/src/index.tsx">https://codesandbox.io/s/animated-routes-demo-react-router-v6-6l1li?fontsize=14&#x26;hidenavigation=1&#x26;theme=dark&#x26;file=/src/index.tsx</a></li>
</ul></section><div class="footer-division"></div><footer><div class="bio"><img class="bio-avatar" src="https://avatars.githubusercontent.com/u/62434898?v=4" width="60" height="60" alt="profile"/><div><strong>온스타</strong><div>우아한테크코스 4기 <!-- -->FE</div></div></div></footer></article></div></main><footer></footer><div class="scroll-up-button"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="50" width="50" xmlns="http://www.w3.org/2000/svg"><path d="M16 8A8 8 0 1 0 0 8a8 8 0 0 0 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"></path></svg></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/FE/온스타/transition-group/";window.___webpackCompilationHash="5a22c8cbceedd7bb6349";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-3ca61338d6a21b0220f4.js"],"app":["/app-c19097725876148ac0d1.js"],"component---src-pages-404-js":["/component---src-pages-404-js-4c95ba93e6a819755bb7.js"],"component---src-pages-index-js":["/component---src-pages-index-js-bdc10297745c0af30b90.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-51cf8d8c7b0bef775cee.js"]};/*]]>*/</script><script src="/dev-blog/polyfill-3ca61338d6a21b0220f4.js" nomodule=""></script><script src="/dev-blog/app-c19097725876148ac0d1.js" async=""></script><script src="/dev-blog/framework-e16366b3430b769eb18b.js" async=""></script><script src="/dev-blog/webpack-runtime-8c3e47e9f40cad5f0a70.js" async=""></script></body></html>